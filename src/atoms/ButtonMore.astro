---
import Icon from '@atoms/Icon.astro'
import Text from '@atoms/Text.astro'
import _slug from '@scripts/slug'

const {
    link,
    label,
    theme = 'default',
    tag,
    class: classes,
    ...props
} = Astro.props
const Tag = tag || 'a'
---

<Tag
	{...link ? { href: _slug(link) } : {}}
	class:list={['group relative block text-center w-min transition duration-200', classes]}
	{...props}>
	<Text
		text={label}
        weight="medium"
		class={[
			'flex items-center justify-center whitespace-nowrap',
			theme === 'default' &&
				'text-[var(--color-text-title)] group-hover:text-[var(--color-text-emphasis)]',
			theme === 'on-dark' &&
				'text-[var(--color-lightest)] group-hover:text-[var(--color-main-inverted)]',
		]}
	/>
	<Icon
		name='underslash'
		class:list={[
			'fix-svg-stroke w-full h-3 -translate-y-[1px] group-hover:-translate-y-[3px]',
			theme === 'default' && 'text-[var(--color-main)]',
			theme === 'on-dark' && 'text-[var(--color-main-inverted)]',
		]}
	/>
</Tag>