---
import Icon from '@atoms/Icon.astro'
import Text from '@atoms/Text.astro'
import _slug from '@scripts/slug'

const {
	link,
	label,
	theme = 'default',
	tag,
	class: classes,
	...props
} = Astro.props
const Tag = tag || 'a'
---

<Tag
	{...link ? { href: _slug(link) } : {}}
	class:list={[
		'group/more relative block text-center w-min transition duration-200',
		classes,
	]}
	{...props}>
	<Text
		text={label}
		weight='medium'
		class={[
			'inline-flex items-center justify-center whitespace-nowrap transition duration-200',
			theme === 'default' &&
				'text-(--color-text-title) group-hover/more:text-(--color-text-emphasis)',
			theme === 'on-dark' &&
				'text-(--color-lightest) group-hover/more:text-(--color-main-inverted)',
		]}
	/>
	<Icon
		name='underslash'
		class:list={[
			'fix-svg-stroke w-full h-3 -translate-y-[1px] group-hover/more:-translate-y-[3px] transition duration-200',
			theme === 'default' && 'text-(--color-main)',
			theme === 'on-dark' && 'text-(--color-main-inverted)',
		]}
	/>
</Tag>
