---
import Image from '@atoms/Image.astro'
import Text from '@atoms/Text.astro'
import _slug from '@scripts/slug'
import { _capitalize } from '@scripts/snips'

const { link, entry, tag = 'a', class: classes, ...props } = Astro.props,
	Tag = tag
---

<Tag
	{...link ? { href: `/${_slug(link)}` } : {}}
	class:list={[
		'flex items-center w-full sm:w-[calc(50%-1rem)] h-24 bg-[var(--color-bg-default-elevated)] p-1 rounded-xl group',
		classes,
	]}
	{...props}>
	<div
		class='rounded-tl-lg rounded-bl-lg rounded-tr-2xl rounded-br-[3rem] overflow-clip w-[5.5rem] h-full shrink-0'>
		<Image
			filename={entry.content?.image.filename}
			alt={entry.content?.image.alt}
			filter
			class:list={[
				'size-full group-hover:scale-110 transition-transform duration-200',
			]}
		/>
	</div>
	<div class='px-3 flex flex-col gap-1'>
		<Text
			text={entry.content.title}
			color='title'
			size='emphasis'
			family='display'
			weight='bold'
            class="line-clamp-3"
		/>
	</div>
</Tag>