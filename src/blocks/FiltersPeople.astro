---
import Icon from '@atoms/Icon.astro'
import InputCheck from '@atoms/InputCheck.astro'
import InputRadio from '@atoms/InputRadio.astro'
import Text from '@atoms/Text.astro'
import _slugify from '@scripts/slugify'

const { links, designations, locations, class: classes, ...props } = Astro.props
---

<ul class:list={['', classes]} {...props}>
	<li
		class='accordion group border-b border-[var(--color-border-muted)] is-active'>
		<div
			class='accordion__button r-transition flex items-center justify-between h-14 cursor-pointer'
			aria-expanded='true'>
			<Text
				tag='p'
				text='Sort by'
				color='body'
				size='copy'
				weight='semi'
				family='display'
				class='pointer-events-none'
			/>
			<Icon
				name='caret-down'
				aria-hidden='true'
				class='accordion__icon block w-5 text-[var(--color-text-caption)] opacity-70 group-hover/button:opacity-100 shrink-0 transition-all group-[.is-active]:opacity-100 rotate-180'
			/>
		</div>
		<div
			class='accordion__content overflow-hidden max-h-max transition-all ease-in-out'>
			<fieldset
				class='max-w-full pt-1 px-4 pb-4 transition-[height] duration-[250ms]'>
				<legend set:text='Sort JEE People by Rank' class='sr-only' />
				<div class='space-y-3'>
					<InputRadio
						label='All People'
						id={'all-people'}
						name={'designations'}
						checked
					/>
					{
						designations.map((d) => (
							<InputRadio
								label={d + 's'}
								id={_slugify(d)}
								name={'designations'}
							/>
						))
					}
				</div>
			</fieldset>
		</div>
	</li>
	<li class='accordion group border-b border-[var(--color-border-muted)]'>
		<div
			class='accordion__button r-transition flex items-center justify-between h-14 cursor-pointer'
			aria-expanded='false'>
			<Text
				tag='p'
				text='Locations'
				color='body'
				size='copy'
				weight='semi'
				family='display'
				class='pointer-events-none'
			/>
			<Icon
				name='caret-down'
				aria-hidden='true'
				class='accordion__icon block w-5 text-[var(--color-text-caption)] opacity-70 group-hover/button:opacity-100 shrink-0 transition-all group-[.is-active]:opacity-100'
			/>
		</div>
		<div
			class='accordion__content overflow-hidden max-h-0 transition-all ease-in-out'>
			<fieldset
				class='max-w-full pt-1 px-4 pb-4 transition-[height] duration-[250ms]'>
				<legend set:text='Offices of JEE Lawyers' class='sr-only' />
				<div class='space-y-3'>
					{
						locations.map((o) => (
							<InputCheck
								label={o}
								id={_slugify(o)}
								name={'offices'}
							/>
						))
					}
				</div>
			</fieldset>
		</div>
	</li>
</ul>
