---
import Section from '@layouts/Section.astro'
import Wrapper from '@layouts/Wrapper.astro'
import Grid from '@layouts/Grid.astro'
import Text from '@atoms/Text.astro'
import ButtonLink from '@atoms/ButtonLink.astro'
import { _sectionPadding } from '@scripts/snips'
import Icon from '@atoms/Icon.astro'
import BrandCutout from '@atoms/BrandCutout.astro'
import ButtonMore from '@atoms/ButtonMore.astro'
import Breadcrumb from '@blocks/Breadcrumb.astro'
import _empty from '@scripts/empty'
import FormattedDate from '@atoms/FormattedDate.astro'

const {
	blok,
	breadcrumbLink,
	breadcrumbLabel,
	class: classes,
	...props
} = Astro.props
---

<Section
	component={blok.component}
	header
	section={false}
	class='r-hide-overflow min-h-[19.5rem] xs:min-h-[17rem] sm:min-h-[16rem] md:min-h-[19rem] lg:min-h-[20rem]'>
	<Wrapper inset>
		<Grid>
			<div class='col-span-full md:col-span-6 lg:col-span-8 xl:col-span-9 xs:pr-4 lg:pr-26'>
				<div class='flex flex-col gap-2 sm:gap-3'>
					<Breadcrumb
						page={blok.title}
						altLink={breadcrumbLink}
						labelText={breadcrumbLabel}
					/>
					<Text
						tag='h2'
						text={blok.title}
						color='title'
						size='3'
						family='display'
						weight='extra'
						tighten
						class='mb-[0.375rem] line-clamp-4 lg:line-clamp-3'
					/>
					<div
						class='flex items-center mt-3 sm:mt-4 space-x-4'>
						<FormattedDate
							dateString={blok.published_date}
							size='copy'
							weight='medium'
							color='caption'
						/>
						{
							blok.pdf && blok.pdf.filename && (
								<div class='px-4 border-l border-[var(--color-border-muted)]'>
									<a
										href={blok.pdf.filename}
										download
										class='flex'>
										<span
											class='sr-only'
											set:text={`Download PDF of ${blok.title}`}
										/>
										<Icon
											name='pdf'
											class='size-8 text-[var(--color-text-emphasis)]'
										/>
									</a>
								</div>
							)
						}
					</div>
				</div>
			</div>
		</Grid>
	</Wrapper>
	<BrandCutout top />
</Section>
