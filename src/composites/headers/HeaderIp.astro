---
import Section from '@layouts/Section.astro'
import Wrapper from '@layouts/Wrapper.astro'
import Grid from '@layouts/Grid.astro'
import Text from '@atoms/Text.astro'
import { _gridGap, _sectionPadding, _spaceY, _xPadding } from '@scripts/snips'
import BrandCutDown from '@atoms/BrandCutDown.astro'
import ButtonMore from '@atoms/ButtonMore.astro'
import Breadcrumb from '@blocks/Breadcrumb.astro'
import _empty from '@scripts/empty'
import _slug from '@scripts/slug'
import Image from '@atoms/Image.astro'
import HeadingSection from '@blocks/HeadingSection.astro'
import CardPerson from '@blocks/CardPerson.astro'
import Icon from '@atoms/Icon.astro'
import RichText from '@atoms/RichText.astro'

const {
	item,
	heads,
	breadcrumbLink,
	breadcrumbLabel,
	flipped,
	class: classes,
	...props
} = Astro.props
---

<Section
	component={item.component}
	header
	section={false}
	class:list={['r-hide-overflow', classes]}
	{...props}>
	<Wrapper inset>
		<Grid grid='4-12-12' class:list={[_gridGap('y'), 'lg:min-h-[42rem]']}>
			<div
				class:list={[
					'col-span-full lg:[grid-area:1/1/2/6] flex flex-col gap-2 sm:gap-3',
				]}>
				<Breadcrumb
					page={item.title}
					altLink={breadcrumbLink}
					labelText={breadcrumbLabel}
				/>
				<div class:list={['flex flex-col gap-3 lg:gap-4 pr-4']}>
					<Text
						tag='h2'
						text={item.title}
						color='title'
						size='3'
						weight='extra'
						tighten
					/>
					{
						!_empty(item.summary) && (
							<RichText
								text={item.summary}
								color='caption'
								pType='1hx'
								class='mt-1'
							/>
						)
					}
				</div>
			</div>
			<div
				class:list={[
					'col-span-full lg:[grid-area:1/6/2/13] -translate-y-8',
				]}>
				<div class='grid grid-cols-4 grid-rows-4 h-full'>
					<div class='[grid-area:1/1/5/5] z-0'>
						<Icon
							name='africa-map'
							class='size-full saturate-[.1] opacity-30'
						/>
					</div>
					<div
						class:list={[
							'z-[2] r-flex-center relative',
							item.region === 'north' && '[grid-area:1/1/2/5]',
							item.region === 'east' &&
								'[grid-area:3/3/4/5] self-end justify-self-end',
							item.region === 'south' && '[grid-area:4/1/5/5] ',
							item.region === 'central' && '[grid-area:2/1/3/5]',
							item.region === 'west' &&
								'[grid-area:3/1/4/3] self-start justify-self-start',
						]}>
						<div
							class='z-0 absolute size-24 sm:size-40 rounded-full bg-[var(--color-emphasis)] animate-ping [animation-duration:2.5s]'>
						</div>
						<Icon
							name={item.country}
							class='size-16 z-[1] absolute'
						/>
					</div>
				</div>
			</div>
		</Grid>
	</Wrapper>
</Section>
