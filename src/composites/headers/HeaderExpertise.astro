---
import Section from '@layouts/Section.astro'
import Wrapper from '@layouts/Wrapper.astro'
import Grid from '@layouts/Grid.astro'
import Text from '@atoms/Text.astro'
import { _gridGap, _sectionPadding, _spaceY, _xPadding } from '@scripts/snips'
import BrandCutDown from '@atoms/BrandCutDown.astro'
import ButtonMore from '@atoms/ButtonMore.astro'
import Breadcrumb from '@blocks/Breadcrumb.astro'
import _empty from '@scripts/empty'
import _slug from '@scripts/slug'
import Image from '@atoms/Image.astro'
import HeadingSection from '@blocks/HeadingSection.astro'
import CardPerson from '@blocks/CardPerson.astro'

const { item, heads, breadcrumbLink, breadcrumbLabel, class: classes, ...props } = Astro.props
---

<Section
	component={item.component}
	header
	section={false}
	class:list={['r-hide-overflow', classes]}
	{...props}>
	<Wrapper>
		<Grid grid='4-12-12' class:list={[_gridGap('y')]}>
			<div
				class:list={[
					'col-span-full ml:[grid-area:1/1/2/7]',
				]}>
				<div
					class='h-[22.5rem] xs:h-[30rem] lg:h-[32rem] rounded-t-[1.5rem] md:rounded-t-[3.5rem] rounded-bl-[1.5rem] md:rounded-bl-[3.5rem] rounded-br-[12.5rem] md:rounded-br-[18rem] overflow-clip'>
					<Image
						filename={item.image.filename}
						alt={item.image.alt}
						filter
						class:list={['h-full']}
					/>
				</div>
			</div>
			<div
				class='col-span-full ml:[grid-area:1/7/2/13] w-full flex'>
				<div
					class='flex flex-col gap-1.5 sm:gap-2 lg:gap-3 overflow-hidden'>
					<Breadcrumb
						page={item.title}
						altLink={breadcrumbLink}
						labelText={breadcrumbLabel}
					/>
					<div class='flex flex-col gap-3 ml:gap-4'>
						<Text
							tag='h2'
							text={item.title}
							color='title'
							size='3'
							family='display'
							weight='extra'
							tighten
						/>
						<Text
							text={item.excerpt}
							color='caption'
							size='1hx'
							family='display'
							class='pr-3 xs:pr-6 sm:pr-8 ml:pr-10'
						/>
					</div>
					<div class:list={[_sectionPadding('top'), _spaceY()]}>
						<HeadingSection
							level='h2'
							text={heads.title}
							size='5'
							weight='extra'
						/>
						<ul class:list={['flex gap-4 overflow-auto w-full']}>
							{
								heads.persons.map((i, x) => (
									<li class='!w-auto shrink-0'>
										<CardPerson person={i} size='mini' />
									</li>
								))
							}
						</ul>
					</div>
				</div>
			</div>
		</Grid>
	</Wrapper>
	<BrandCutDown class='z-[-1]' specialCase />
</Section>
