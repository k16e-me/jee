---
import Section from '@layouts/Section.astro'
import Wrapper from '@layouts/Wrapper.astro'
import Grid from '@layouts/Grid.astro'
import Text from '@atoms/Text.astro'
import ButtonLink from '@atoms/ButtonLink.astro'
import { _sectionPadding } from '@scripts/snips'
import Icon from '@atoms/Icon.astro'
import BrandCutFull from '@atoms/BrandCutFull.astro'

const { blok, class: classes, ...props } = Astro.props
---

<Section component={blok.component} poster section={false}>
	<Wrapper class=''>
		<Grid class='xl:px-18 gap-y-5 md:gap-y-12 lg:gap-y-14'>
			<div class='col-span-full md:col-span-5 lg:col-span-7'>
				<Text
					tag='h2'
					text={blok.headline}
					color='title'
					size='2'
					family='display'
					weight='extra'
					tighten
					class=''
				/>
			</div>
			<div
				class='col-span-full md:col-span-3 md:col-start-6 lg:col-span-5 lg:col-start-8 md:pt-8 lg:pt-12 2xl:pt-14 max-w-screen-sm'>
				<Text
					tag='p'
					text={blok.copy}
					color='body'
					size='copy'
					family='display'
					class=''
				/>
			</div>
			<div class='col-span-full mt-2 md:mt-0'>
				<ButtonLink
					link={blok.button[0].link}
					label={blok.button[0].label}
				/>
			</div>
		</Grid>
	</Wrapper>
	<div class:list={[_sectionPadding('top'), 'relative overflow-x-clip']}>
		<Grid class='md:px-3 lg:px-8 xl:px-18'>
			<div
				class='col-span-full flex justify-center w-full aspect-video bg-[var(--color-bg-default-elevated)] md:rounded-3xl relative overflow-hidden'
				r-autoplay-video>
				<iframe
					src=`https://www.youtube.com/embed/${blok.video_id}?controls=0&autoplay=1&mute=1&playsinline=1&loop=1`
					class='absolute inset-0 size-full'></iframe>
				<button
					class='play-video absolute z-10 r-dead-center text-[var(--color-accent)]'
					r-autoplay-video-ctrl>
					<Icon name='play-circle' class='size-16 md:size-26' />
				</button>
			</div>
		</Grid>
		<BrandCutFull />
	</div>
</Section>
